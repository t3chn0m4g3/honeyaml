- path: /auth
  path_type: authenticator
  method: POST
  authorization: jwt
  auth_config:
    issuer: Org
    subject: MyApp
    audience: MyApp
  accounts:
    - username: user
      password: 123456
    - username: monitor
      password: monitor
    - username: admin
      password: admin
      realm: admin
    - username: root
      password: root
      realm: admin

# More specific paths first

- path: /users/me
  path_type: rest
  method: GET
  auth_required: true
  return_code: 200
  return_text: |
    {
      "user_id": 1,
      "username": "user",
      "email": "user@myapp.org"
    }

- path: /users/me
  path_type: rest
  method: PUT
  auth_required: true
  return_code: 200
  return_text: |
    {
      "message": "Profile updated successfully"
    }

- path: /users/settings
  path_type: rest
  method: GET
  auth_required: true
  return_code: 200
  return_text: |
    {
      "notifications": true,
      "theme": "dark"
    }

- path: /users/settings
  path_type: rest
  method: PATCH
  auth_required: true
  return_code: 200
  return_text: |
    {
      "message": "Settings updated"
    }

- path: /users
  path_type: rest
  method: POST
  auth_required: false
  return_code: 201
  return_text: |
    {
      "message": "User registered successfully"
    }
    
- path: /users/logout
  path_type: rest
  method: POST
  auth_required: true
  return_code: 204
  return_text: ""

- path: /users/forgot-password
  path_type: rest
  method: POST
  auth_required: false
  return_code: 202
  return_text: |
    {
      "message": "Password reset email sent"
    }

- path: /posts
  path_type: rest
  method: GET
  auth_required: false
  return_code: 200
  return_text: |
    [
      {
        "post_id": 1,
        "title": "First Post",
        "content": "This is the content of the first post."
      },
      {
        "post_id": 2,
        "title": "Second Post",
        "content": "This is the content of the second post."
      }
    ]

- path: /posts
  path_type: rest
  method: POST
  auth_required: true
  return_code: 201
  return_text: |
    {
      "message": "Post created successfully",
      "post_id": 3
    }

- path: /posts/posts/post_id
  path_type: rest
  method: GET
  auth_required: false
  return_code: 200
  return_text: |
    {
      "post_id": 1,
      "title": "First Post",
      "content": "This is the content of the first post."
    }

- path: /posts/post_id
  path_type: rest
  method: PUT
  auth_required: true
  return_code: 200
  return_text: |
    {
      "message": "Post updated successfully"
    }

- path: /posts/post_id
  path_type: rest
  method: DELETE
  auth_required: true
  return_code: 204
  return_text: ""

- path: /comments
  path_type: rest
  method: GET
  auth_required: false
  return_code: 200
  return_text: |
    [
      {
        "comment_id": 1,
        "post_id": 1,
        "author": "user",
        "content": "This is a comment."
      }
    ]

- path: /comments
  path_type: rest
  method: POST
  auth_required: true
  return_code: 201
  return_text: |
    {
      "message": "Comment created successfully",
      "comment_id": 2
    }

- path: /products
  path_type: rest
  method: GET
  auth_required: false
  return_code: 200
  return_text: |
    [
      {
        "product_id": 1,
        "name": "Product A",
        "price": 9.99
      },
      {
        "product_id": 2,
        "name": "Product B",
        "price": 19.99
      }
    ]

- path: /products/products/product_id
  path_type: rest
  method: GET
  auth_required: false
  return_code: 200
  return_text: |
    {
      "product_id": 1,
      "name": "Product A",
      "description": "A detailed description of Product A",
      "price": 9.99
    }

- path: /products/product_id/reviews
  path_type: rest
  method: GET
  auth_required: false
  return_code: 200
  return_text: |
    [
      {
        "review_id": 1,
        "rating": 5,
        "comment": "Great product!"
      }
    ]

- path: /cart
  path_type: rest
  method: GET
  auth_required: true
  return_code: 200
  return_text: |
    {
      "items": [
        {
          "product_id": 1,
          "quantity": 2
        },
        {
          "product_id": 2,
          "quantity": 1
        }
      ]
    }

- path: /cart/items
  path_type: rest
  method: POST
  auth_required: true
  return_code: 200
  return_text: |
    {
      "message": "Item added to cart"
    }

- path: /cart/items/cart/items/item_id
  path_type: rest
  method: DELETE
  auth_required: true
  return_code: 204
  return_text: ""

- path: /cart/checkout
  path_type: rest
  method: POST
  auth_required: true
  return_code: 200
  return_text: |
    {
      "message": "Checkout successful",
      "order_id": 12345
    }

- path: /orders
  path_type: rest
  method: GET
  auth_required: true
  return_code: 200
  return_text: |
    [
      {
        "order_id": 12345,
        "status": "Shipped"
      },
      {
        "order_id": 12346,
        "status": "Processing"
      }
    ]

- path: /orders/orders/order_id
  path_type: rest
  method: GET
  auth_required: true
  return_code: 200
  return_text: |
    {
      "order_id": 12345,
      "status": "Shipped",
      "items": [
        {
          "product_id": 1,
          "quantity": 2
        }
      ]
    }

- path: /orders/order_id/cancel
  path_type: rest
  method: POST
  auth_required: true
  return_code: 403
  return_text: |
    {
      "error": "Order cannot be canceled at this stage"
    }

- path: /support/tickets
  path_type: rest
  method: POST
  auth_required: true
  return_code: 201
  return_text: |
    {
      "ticket_id": 789,
      "message": "Support ticket created"
    }

- path: /support/tickets/support/tickets/ticket_id
  path_type: rest
  method: GET
  auth_required: true
  return_code: 200
  return_text: |
    {
      "ticket_id": 789,
      "status": "Open",
      "messages": [
        {
          "from": "user",
          "content": "I need help with my order."
        }
      ]
    }

- path: /support/tickets/ticket_id/reply
  path_type: rest
  method: POST
  auth_required: true
  return_code: 200
  return_text: |
    {
      "message": "Reply added to ticket"
    }

- path: /notifications
  path_type: rest
  method: GET
  auth_required: true
  return_code: 200
  return_text: |
    [
      {
        "notification_id": 1,
        "type": "order_update",
        "content": "Your order #12345 has been shipped."
      }
    ]

- path: /notifications/notifications/notification_id
  path_type: rest
  method: DELETE
  auth_required: true
  return_code: 204
  return_text: ""

- path: /analytics/dashboard
  path_type: rest
  method: GET
  auth_required: true
  return_code: 200
  return_text: |
    {
      "visitors": 1023,
      "sales": 150,
      "revenue": 12345.67
    }

- path: /analytics/sales
  path_type: rest
  method: GET
  auth_required: true
  return_code: 200
  return_text: |
    {
      "daily_sales": 150,
      "monthly_sales": 4500
    }

- path: /health
  path_type: rest
  method: GET
  auth_required: false
  return_code: 200
  return_text: "OK"

- path: /metrics
  path_type: rest
  method: GET
  auth_required: false
  return_code: 200
  return_text: |
    {
      "uptime": "24 days",
      "requests": 5023,
      "errors": 17
    }

- path: /
  path_type: rest
  method: GET
  auth_required: false
  return_code: 200
  return_text: |
    <html>
    <body>Authenticate through /auth first.</body>
    </html>
